{% extends "polls/base.html" %}
{% block content %}


{% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}
<div class="container">
	<div class="row">
		<div class="col-md-6">
		<h1>{{ poll.poll_text }}</h1>
			<form action="{% url 'detail' poll.id %}" method="post">
				{% csrf_token %}
				{% for question in questions_list %}
				<!-- 判断不同类型的question -->

				{% if question.question_type == '1' %}
					<div class="form-group">
					<label > {{ forloop.counter }}.{{ question.question_text }} 题型： {{question.question_type}} </label>
					{%  for choice in  question.choice_set.all%}		

					<div class="checkbox">
						<label>
							   <input type="radio" name="question{{ question.id }}" id="{{ forloop.counter }}" value="{{ choice.id }}" />
							   <label for="choice{{ forloop.counter }}">{{ choice.choice_text }}</label>
							   {% if choice.choice_text == '其他' %}
								<input name="question{{ question.id }}"  type="text">
							   {% endif %}		
						</label>
					</div>
					{% endfor %}
					</div>
				{% elif question.question_type == '2' %}
					<div class="form-group">
					<label > {{ forloop.counter }}.{{ question.question_text }} 题hao:{{question.id}} </label>
					{%  for choice in  question.choice_set.all%}		

					<div class="checkbox">
						<label>
						<!-- 不同类型表单的写法 -->
							   <input type="checkbox" name="question{{ question.id }}" value="{{ choice.id }}" />
							   <label >{{ choice.choice_text }}</label>
							   {% if choice.choice_text == '其他' %}
								<input name="question{{ question.id }}" id="{{ forloop.counter }}"   type="text">
							   {% endif %}		
						</label>
					</div>
					{% endfor %}
					</div>
				<!-- html基本技能都不熟悉，真是超级无语了，form表单都不熟悉 -->
				{% elif question.question_type == '3' %}
					<div class="form-group">
					    <label for="exampleInputEmail1"> {{ forloop.counter }}. {{ question.question_text }}</label>
					    <input type="text" name="question{{ question.id }}" id="{{ forloop.counter }}"  class="form-control" id="exampleInputEmail1">
					</div>
					
				{% else %}
					<div class="form-group">
					    <label for="exampleInputEmail1"> {{ forloop.counter }}. {{ question.question_text }}</label>
					    <textarea type="text" name="question{{ question.id }}" class="form-control" rows="3"></textarea>
					</div>
				{% endif %}	

				
				{% endfor %}
				<button type="submit" class="btn btn-default">提交</button>
			</form>
		</div>
	</div>
</div>

{% endblock %}